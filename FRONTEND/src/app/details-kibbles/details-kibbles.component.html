<div id="main-div">
    <div>
        <img src="{{kibbles.imageURL}}"/>
    </div>
    <div id="right">
        <h1>{{kibbles.name}}</h1>
        <hr>
        <div id="menu">
            <p (click)="toggleDescription()" [ngClass]="{'current': selectedMenu === 'description'}">DESCRIPTION</p>
            <p id="valeurs-menu" (click)="toggleNutrition()" [ngClass]="{'current': selectedMenu === 'nutrition'}">VALEURS NUTRITIONNELLES</p>
        </div>
        <hr>
        <p *ngIf="kibblesInStock" [ngClass]="kibblesInStock ? 'status-inStock' : ''">EN STOCK</p>
        <p *ngIf="kibblesSoonOutOfStock" [ngClass]="kibblesSoonOutOfStock ? 'status-soonOutOfStock' : ''">BIENTÔT ÉPUISÉ ({{kibbles.quantity}})</p>
        <p *ngIf="kibblesOutOfStock" [ngClass]="kibblesOutOfStock ? 'status-outOfStock' : ''">EN RUPTURE</p>
        <div id="description" *ngIf="showDescription">
            <p>{{kibbles.description}}</p>
            <p id="taste">Goût : {{kibbles.taste}}</p>
            <div id="tokyoOpinion" *ngIf="approvedByTokyo">
                <img src="../../assets/img/approved.png" id="approvedByTokyoImage">
                <p id="approvedByTokyoText">Avis de Tokyo : {{kibbles.tokyoOpinion}}</p>
            </div>
        </div>
        <div id="valeurs-nutritionnelles" *ngIf="showNutrition">
            <div id="ligne">
                <p>Humidité</p>
                <p>{{kibbles.humidity}}%</p>
            </div>
            <div id="ligne">
                <p>Calcium</p>
                <p>{{kibbles.calcium}}%</p>
            </div>
            <div id="ligne">
                <p>Cendres brutes</p>
                <p>{{kibbles.rawAshes}}%</p>
            </div>
            <div id="ligne">
                <p>Protéines brutes</p>
                <p>{{kibbles.rawProteins}}%</p>
            </div>
            <div id="ligne">
                <p>Matières grasses brutes</p>
                <p>{{kibbles.rawFat}}%</p>
            </div>
            <div id="ligne">
                <p>Fibres brutes</p>
                <p>{{kibbles.rawFibers}}%</p>
            </div>
        </div>
        <p id="outOfStock" *ngIf="isOutOfStock">En rupture de stock</p>
        <div id="choice">
            <div class="wrapper">
              <span class="minus" (click)="decreaseQuantity()" [class.disabled]="selectedQuantity <= 1 || isOutOfStock">-</span>
              <span class="num">{{ selectedQuantity }}</span>
              <span class="plus" (click)="increaseQuantity()" [class.disabled]="isOutOfStock || selectedQuantity >= (kibbles.quantity - quantityInShoppingCart)">+</span>
            </div>
            <p id="price">{{ totalPrice }}€</p>
        </div>
        <button id="add-cart" (click)="addItemToCart()" [disabled]="isOutOfStock">Ajouter au panier</button>
    </div>
</div>